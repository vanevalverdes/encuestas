# -*- coding: utf-8 -*-
from utils.db import db
from sqlalchemy.orm import backref
from sqlalchemy import BigInteger
from datetime import datetime, timezone 
from sqlalchemy import desc, func, String, case, literal_column  
from sqlalchemy.ext.hybrid import hybrid_property 
from sqlalchemy.sql.expression import null 

class Surveyoctober(db.Model):
    __tablename__ = 'surveyoctober'
    id = db.Column(db.Integer, primary_key=True)
    age = db.Column(db.String(255))
    gender = db.Column(db.String(255))
    religion = db.Column(db.String(255))
    education = db.Column(db.String(255))
    county = db.Column(db.String(255))
    state = db.Column(db.String(255))
    party = db.Column(db.String(255))
    nationalElection = db.Column(db.String(255))
    congress = db.Column(db.String(255))
    support = db.Column(db.String(255))
    contact = db.Column(db.String(255))
    createdby_id = db.Column(db.Integer, db.ForeignKey('user.id'))
    modifiedby_id = db.Column(db.Integer, db.ForeignKey('user.id'))
    createdby = db.relationship('User', backref='created_surveysOctober', foreign_keys=[createdby_id])
    modifiedby = db.relationship('User', backref='modified_surveysOctober', foreign_keys=[modifiedby_id])
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(timezone.utc))
    updated_at = db.Column(db.DateTime, default=lambda: datetime.now(timezone.utc), onupdate=lambda: datetime.now(timezone.utc))


    @hybrid_property
    def full_repr(self):
        result = f'''{self.created_by if self.created_by is not None else ''}- {self.created_at if self.created_at is not None else ''}'''
        return result.strip()

    @full_repr.expression
    def full_repr(cls):
        return (
            literal_column("") + literal_column("''")  + func.coalesce(cls.created_by, literal_column("''"))  + literal_column("'-'") + literal_column("' '")  + func.coalesce(cls.created_at, literal_column("''"))  + literal_column("''")
        )

    def __repr__(self) -> str:
        return self.full_repr 
    __default_ordering__ = [desc('created_at')]

    __table_args__ = {
        "mysql_charset": "utf8mb4",
        "mysql_collate": "utf8mb4_unicode_ci",
    }


def get_fields():
    fields = {'createdby_id': {'id': 1, 'type': 'createdby', 'name': 'createdby_id', 'maxlength': None, 'connected_table': None, 'label': 'Usuario', 'input': 'text', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': True, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'age': {'id': 2, 'type': 'String', 'name': 'age', 'maxlength': None, 'connected_table': None, 'label': 'Edad', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"18 -20 ":"18-20",\r\n"21 - 24":"21-24",\r\n"25 - 29":"25-29",\r\n"30 - 34":"30-34",\r\n"35 - 39":"35-39",\r\n"40 - 44":"40-44",\r\n"45 - 49":"45-49",\r\n"50 - 54":"50-54",\r\n"55 - 59":"55-59",\r\n"60 - 64":"60-64",\r\n"65 - 69":"65-69",\r\n"70 - 79":"70-79",\r\n"+ 80":"+80"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'gender': {'id': 3, 'type': 'String', 'name': 'gender', 'maxlength': None, 'connected_table': None, 'label': 'Género', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Masculino":"A. Masculino",\r\n"Femenino":"B. Femenino"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'religion': {'id': 4, 'type': 'String', 'name': 'religion', 'maxlength': None, 'connected_table': None, 'label': 'Profesa alguna religión', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Católico":"Católico",\r\n"Cristiano / Evangélico (todas las demás)":"Cristiano / Evangélico (todas las demás)",\r\n"Ateo":"Ateo",\r\n"No religioso":"No religioso",\r\n"Otro":"Otro",\r\n"NS/NR":"NS/NR"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'education': {'id': 5, 'type': 'String', 'name': 'education', 'maxlength': None, 'connected_table': None, 'label': 'Nivel educativo (último concluido)', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Sin estudios":"Sin estudios",\r\n"Primaria":"Primaria",\r\n"Secundaria":"Secundaria",\r\n"Técnico":"Técnico",\r\n"Universitaria":"Universitaria",\r\n"Posgrados":"Posgrados",\r\n"NS/NR":"NS/NR"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'county': {'id': 6, 'type': 'String', 'name': 'county', 'maxlength': None, 'connected_table': None, 'label': 'Cantón', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"san-jose":"san-jose",\r\n"escazu":"escazu",\r\n"desamparados":"desamparados",\r\n"puriscal":"puriscal",\r\n"tarrazu":"tarrazu",\r\n"aserri":"aserri",\r\n"mora":"mora",\r\n"goicoechea":"goicoechea",\r\n"santa-ana":"santa-ana",\r\n"alajuelita":"alajuelita",\r\n"vazquez-de-coronado":"vazquez-de-coronado",\r\n"acosta":"acosta",\r\n"tibas":"tibas",\r\n"moravia":"moravia",\r\n"montes-de-oca":"montes-de-oca",\r\n"turrubares":"turrubares",\r\n"dota":"dota",\r\n"curridabat":"curridabat",\r\n"perez-zeledon":"perez-zeledon",\r\n"leon-cortes-castro":"leon-cortes-castro",\r\n"alajuela":"alajuela",\r\n"san-ramon":"san-ramon",\r\n"grecia":"grecia",\r\n"san-mateo":"san-mateo",\r\n"atenas":"atenas",\r\n"naranjo":"naranjo",\r\n"palmares":"palmares",\r\n"poas":"poas",\r\n"orotina":"orotina",\r\n"san-carlos":"san-carlos",\r\n"zarcero":"zarcero",\r\n"valverde-vega":"valverde-vega",\r\n"upala":"upala",\r\n"los-chiles":"los-chiles",\r\n"guatuso":"guatuso",\r\n"rio-cuarto":"rio-cuarto",\r\n"cartago":"cartago",\r\n"paraiso":"paraiso",\r\n"la-union":"la-union",\r\n"jimenez":"jimenez",\r\n"turrialba":"turrialba",\r\n"alvarado":"alvarado",\r\n"oreamuno":"oreamuno",\r\n"el-guarco":"el-guarco",\r\n"heredia":"heredia",\r\n"barva":"barva",\r\n"santo-domingo":"santo-domingo",\r\n"santa-barbara":"santa-barbara",\r\n"san-rafael":"san-rafael",\r\n"san-isidro":"san-isidro",\r\n"belen":"belen",\r\n"flores":"flores",\r\n"san-pablo":"san-pablo",\r\n"sarapiqui":"sarapiqui",\r\n"liberia":"liberia",\r\n"nicoya":"nicoya",\r\n"santa-cruz":"santa-cruz",\r\n"bagaces":"bagaces",\r\n"carrillo":"carrillo",\r\n"cañas":"cañas",\r\n"abangares":"abangares",\r\n"tilaran":"tilaran",\r\n"nandayure":"nandayure",\r\n"la-cruz":"la-cruz",\r\n"hojancha":"hojancha",\r\n"puntarenas":"puntarenas",\r\n"esparza":"esparza",\r\n"buenos-aires":"buenos-aires",\r\n"montes-de-oro":"montes-de-oro",\r\n"osa":"osa",\r\n"quepos":"quepos",\r\n"golfito":"golfito",\r\n"coto-brus":"coto-brus",\r\n"parrita":"parrita",\r\n"corredores":"corredores",\r\n"garabito":"garabito",\r\n"monteverde":"monteverde",\r\n"puerto-jimenez":"puerto-jimenez",\r\n"limon":"limon",\r\n"pococí":"pococí",\r\n"siquirres":"siquirres",\r\n"talamanca":"talamanca",\r\n"matina":"matina",\r\n"guacimo":"guacimo"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'state': {'id': 7, 'type': 'String', 'name': 'state', 'maxlength': None, 'connected_table': None, 'label': 'Provincia', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"San José":"San José",\r\n"Alajuela":"Alajuela",\r\n"Cartago":"Cartago",\r\n"Heredia":"Heredia",\r\n"Guanacaste":"Guanacaste",\r\n"Puntarenas":"Puntarenas",\r\n"Limón":"Limón"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'party': {'id': 8, 'type': 'String', 'name': 'party', 'maxlength': None, 'connected_table': None, 'label': 'Cuál es el partido político de su preferencia? Presentar ficha ', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Partido Pueblo Soberano":"Partido Pueblo Soberano",\r\n"Nueva República":"Nueva República",\r\n"Partido Nueva Generación":"Partido Nueva Generación",\r\n"PLN":"PLN",\r\n"Unidos Podemos":"Unidos Podemos",\r\n"Partido Liberal Progresista":"Partido Liberal Progresista",\r\n"Frente Amplio":"Frente Amplio",\r\n"PAC":"PAC",\r\n"Esperanza Nacional":"Esperanza Nacional",\r\n"Partido Social Democrático":"Partido Social Democrático",\r\n"Partido Integración Nacional":"Partido Integración Nacional",\r\n"Avanza":"Avanza",\r\n"PUSC":"PUSC",\r\n"Aquí CR Manda":"Aquí CR Manda",\r\n"Partido Centro Social Democrático":"Partido Centro Social Democrático",\r\n"Partido Unión Costarricense Democrática":"Partido Unión Costarricense Democrática",\r\n"Partido Justicia Social Costarricense":"Partido Justicia Social Costarricense",\r\n"Costa Rica Primero":"Costa Rica Primero",\r\n"Partido de la Clase Trabajadora":"Partido de la Clase Trabajadora",\r\n"Partido Esperanza y Libertad":"Partido Esperanza y Libertad",\r\n"Otro":"Otro",\r\n"Ninguno":"Ninguno",\r\n"NS/NR":"NS/NR"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'nationalElection': {'id': 9, 'type': 'String', 'name': 'nationalElection', 'maxlength': None, 'connected_table': None, 'label': 'De la siguiente papeleta por quien votaría usted en las próximas elecciones para presidente', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Laura Fernández PPS":"Laura Fernández PPS",\r\n"Fabricio Alvarado NR":"Fabricio Alvarado NR",\r\n"Fernando Zamora PNG":"Fernando Zamora PNG",\r\n"Álvaro Ramos PLN":"Álvaro Ramos PLN",\r\n"Natalia Díaz UP":"Natalia Díaz UP",\r\n"Eliécer Feinzaig PLP":"Eliécer Feinzaig PLP",\r\n"Ariel Robles Frente Amplio":"Ariel Robles Frente Amplio",\r\n"Claudia Dobles Coalición Agenda Ciudadana":"Claudia Dobles Coalición Agenda Ciudadana",\r\n"Claudio Alpízar Esperanza Nacional":"Claudio Alpízar Esperanza Nacional",\r\n"Luz Mary Alpízar PSD":"Luz Mary Alpízar PSD",\r\n"José Aguilar Berrocal Avance":"José Aguilar Berrocal Avance",\r\n"Juan Carlos Hidalgo PUSC":"Juan Carlos Hidalgo PUSC",\r\n"Luis Amador PIN":"Luis Amador PIN",\r\n"Ronny Castillo ACRM":"Ronny Castillo ACRM",\r\n"Ana Virginia Calzada CDS":"Ana Virginia Calzada CDS",\r\n"Douglas Caamaño CR1":"Douglas Caamaño CR1",\r\n"Walter Rubén Hernández PJSC":"Walter Rubén Hernández PJSC",\r\n"Boris Molina UCD":"Boris Molina UCD",\r\n"Marco Rodríguez Padilla PEL":"Marco Rodríguez Padilla PEL",\r\n"David Hernández PT":"David Hernández PT",\r\n"Ninguno":"Ninguno",\r\n"NS/NR":"NS/NR"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'congress': {'id': 10, 'type': 'String', 'name': 'congress', 'maxlength': None, 'connected_table': None, 'label': '7.   De la siguiente papeleta por quien votaría usted en las próximas elecciones para diputados?', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Partido Pueblo Soberano":"Partido Pueblo Soberano",\r\n"Nueva República":"Nueva República",\r\n"Partido Nueva Generación":"Partido Nueva Generación",\r\n"PLN":"PLN",\r\n"Unidos Podemos":"Unidos Podemos",\r\n"Partido Liberal Progresista":"Partido Liberal Progresista",\r\n"Frente Amplio":"Frente Amplio",\r\n"PAC":"PAC",\r\n"Esperanza Nacional":"Esperanza Nacional",\r\n"Partido Social Democrático":"Partido Social Democrático",\r\n"Partido Integración Nacional":"Partido Integración Nacional",\r\n"Avanza":"Avanza",\r\n"PUSC":"PUSC",\r\n"Aquí CR Manda":"Aquí CR Manda",\r\n"Partido Centro Social Democrático":"Partido Centro Social Democrático",\r\n"Partido Unión Costarricense Democrática":"Partido Unión Costarricense Democrática",\r\n"Partido Justicia Social Costarricense":"Partido Justicia Social Costarricense",\r\n"Costa Rica Primero":"Costa Rica Primero",\r\n"Partido de la Clase Trabajadora":"Partido de la Clase Trabajadora",\r\n"Partido Esperanza y Libertad":"Partido Esperanza y Libertad",\r\n"Otro":"Otro",\r\n"Ninguno":"Ninguno",\r\n"NS/NR":"NS/NR"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'support': {'id': 11, 'type': 'String', 'name': 'support', 'maxlength': None, 'connected_table': None, 'label': '8. Apoya usted la gestión del presidente Rodrigo Chaves?', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Sí":"Sí",\r\n"No":"No",\r\n"NS/NR":"NS/NR"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'contact': {'id': 12, 'type': 'String', 'name': 'contact', 'maxlength': None, 'connected_table': None, 'label': 'Contacto', 'input': 'text', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'created_at': {'id': 13, 'type': 'creationDate', 'name': 'created_at', 'maxlength': None, 'connected_table': None, 'label': 'Fecha de Creación', 'input': 'text', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}}
    return fields


def get_relevants():
    relevants = {}
    return relevants
