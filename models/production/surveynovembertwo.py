# -*- coding: utf-8 -*-
from utils.db import db
from sqlalchemy.orm import backref
from sqlalchemy import BigInteger
from datetime import datetime, timezone 
from sqlalchemy import desc, func, String, case, literal_column  
from sqlalchemy.ext.hybrid import hybrid_property 
from sqlalchemy.sql.expression import null 

class Surveynovembertwo(db.Model):
    __tablename__ = 'surveynovembertwo'
    id = db.Column(db.Integer, primary_key=True)
    category = db.Column(db.String(255))
    gender = db.Column(db.String(255))
    age = db.Column(db.String(255))
    education = db.Column(db.String(255))
    religion = db.Column(db.String(255))
    county = db.Column(db.String(255))
    state = db.Column(db.String(255))
    party = db.Column(db.String(255))
    nationalElection = db.Column(db.String(255))
    congress = db.Column(db.String(255))
    contact = db.Column(db.String(255))
    willvote = db.Column(db.String(255))
    chavesSupport = db.Column(db.String(255))
    neverVote = db.Column(db.String(255))
    voteScale = db.Column(db.String(255))
    presidentScale = db.Column(db.String(255))
    brokeVote = db.Column(db.String(255))
    createdby_id = db.Column(db.Integer, db.ForeignKey('user.id'))
    modifiedby_id = db.Column(db.Integer, db.ForeignKey('user.id'))
    createdby = db.relationship('User', backref='created_surveysNovemberTwo', foreign_keys=[createdby_id])
    modifiedby = db.relationship('User', backref='modified_surveysNovemberTwo', foreign_keys=[modifiedby_id])
    created_at = db.Column(db.DateTime, default=lambda: datetime.now(timezone.utc))
    updated_at = db.Column(db.DateTime, default=lambda: datetime.now(timezone.utc), onupdate=lambda: datetime.now(timezone.utc))


    @hybrid_property
    def full_repr(self):
        result = f''' {self.createdby_id if self.createdby_id is not None else ''}- {self.created_at if self.created_at is not None else ''}'''
        return result.strip()

    @full_repr.expression
    def full_repr(cls):
        return (
            literal_column("") + literal_column("' '")  + func.coalesce(cls.createdby_id, literal_column("''"))  + literal_column("'-'") + literal_column("' '")  + func.coalesce(cls.created_at, literal_column("''"))  + literal_column("''")
        )

    def __repr__(self) -> str:
        return self.full_repr 
    __default_ordering__ = [desc('created_at')]

    __table_args__ = {
        "mysql_charset": "utf8mb4",
        "mysql_collate": "utf8mb4_unicode_ci",
    }


def get_fields():
    fields = {'createdby_id': {'id': 46, 'type': 'createdby', 'name': 'createdby_id', 'maxlength': None, 'connected_table': None, 'label': 'Usuario', 'input': 'text', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': True, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'created_at': {'id': 47, 'type': 'creationDate', 'name': 'created_at', 'maxlength': None, 'connected_table': None, 'label': 'Fecha de Creación', 'input': 'text', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': True, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'category': {'id': 48, 'type': 'String', 'name': 'category', 'maxlength': None, 'connected_table': None, 'label': 'Categoría de Entrevista', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Elegible y acepta la entrevista":"1",\r\n"Elegible y rechaza la entrevista":"2",\r\n"No se realiza (elegibilidad desconocida)":"3",\r\n"No elegible para entrevista":"4"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'gender': {'id': 49, 'type': 'String', 'name': 'gender', 'maxlength': None, 'connected_table': None, 'label': 'Sexo', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Hombre":"H", "Mujer":"M"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'age': {'id': 50, 'type': 'String', 'name': 'age', 'maxlength': None, 'connected_table': None, 'label': 'Edad', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"18 -20 ":"18-20", "21 - 24":"21-24", "25 - 29":"25-29", "30 - 34":"30-34", "35 - 39":"35-39", "40 - 44":"40-44", "45 - 49":"45-49", "50 - 54":"50-54", "55 - 59":"55-59", "60 - 64":"60-64", "65 - 69":"65-69", "70 - 79":"70-79", "+ 80":"+80"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'education': {'id': 51, 'type': 'String', 'name': 'education', 'maxlength': None, 'connected_table': None, 'label': '5.\tEducación (última completada)', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Sin estudios":"Sin estudios", "Primaria":"Primaria", "Secundaria":"Secundaria", "Técnico":"Técnico", "Universitaria":"Universitaria", "No Sabe":"No Sabe", "No Responde (Rechaza la pregunta)":"No Responde"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'religion': {'id': 52, 'type': 'String', 'name': 'religion', 'maxlength': None, 'connected_table': None, 'label': 'Profesa alguna religión', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Católico":"Católico", "Cristiano / Evangélico (todas las demás)":"Cristiano / Evangélico (todas las demás)", "Ateo":"Ateo", "No religioso":"No religioso", "Otro":"Otro",  "No Sabe":"No Sabe", "No Responde (Rechaza la pregunta)":"No Responde"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'county': {'id': 53, 'type': 'String', 'name': 'county', 'maxlength': None, 'connected_table': None, 'label': 'Cantón', 'input': 'text', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'state': {'id': 54, 'type': 'String', 'name': 'state', 'maxlength': None, 'connected_table': None, 'label': 'Provincia', 'input': 'text', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'party': {'id': 55, 'type': 'String', 'name': 'party', 'maxlength': None, 'connected_table': None, 'label': '7.\t¿Cuál es el partido político de su preferencia? Presentar ficha ', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Partido Pueblo Soberano":"Partido Pueblo Soberano",\r\n"Nueva República":"Nueva República",\r\n"Partido Nueva Generación":"Partido Nueva Generación",\r\n"PLN":"PLN",\r\n"Unidos Podemos":"Unidos Podemos",\r\n"Partido Liberal Progresista":"Partido Liberal Progresista",\r\n"Frente Amplio":"Frente Amplio",\r\n"PAC":"PAC",\r\n"Esperanza Nacional":"Esperanza Nacional",\r\n"Partido Social Democrático":"Partido Social Democrático",\r\n"Partido Integración Nacional":"Partido Integración Nacional",\r\n"Avanza":"Avanza",\r\n"PUSC":"PUSC",\r\n"Aquí CR Manda":"Aquí CR Manda",\r\n"Partido Centro Social Democrático":"Partido Centro Social Democrático",\r\n"Partido Unión Costarricense Democrática":"Partido Unión Costarricense Democrática",\r\n"Partido Justicia Social Costarricense":"Partido Justicia Social Costarricense",\r\n"Costa Rica Primero":"Costa Rica Primero",\r\n"Partido de la Clase Trabajadora":"Partido de la Clase Trabajadora",\r\n"Partido Esperanza y Libertad":"Partido Esperanza y Libertad",\r\n"Otro":"Otro",\r\n"Ninguno":"Ninguno",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Solo usar en caso de rechazar contestar)":"No Responde"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'nationalElection': {'id': 56, 'type': 'String', 'name': 'nationalElection', 'maxlength': None, 'connected_table': None, 'label': '10.\t¿De la siguiente papeleta por quién votaría usted en las próximas elecciones para presidente? Pr', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Laura Fernández PPS":"Laura Fernández PPS",\r\n"Fabricio Alvarado NR":"Fabricio Alvarado NR",\r\n"Fernando Zamora PNG":"Fernando Zamora PNG",\r\n"Álvaro Ramos PLN":"Álvaro Ramos PLN",\r\n"Natalia Díaz UP":"Natalia Díaz UP",\r\n"Eliécer Feinzaig PLP":"Eliécer Feinzaig PLP",\r\n"Ariel Robles Frente Amplio":"Ariel Robles Frente Amplio",\r\n"Claudia Dobles Coalición Agenda Ciudadana":"Claudia Dobles Coalición Agenda Ciudadana",\r\n"Claudio Alpízar Esperanza Nacional":"Claudio Alpízar Esperanza Nacional",\r\n"Luz Mary Alpízar PSD":"Luz Mary Alpízar PSD",\r\n"José Aguilar Berrocal Avance":"José Aguilar Berrocal Avance",\r\n"Juan Carlos Hidalgo PUSC":"Juan Carlos Hidalgo PUSC",\r\n"Luis Amador PIN":"Luis Amador PIN",\r\n"Ronny Castillo ACRM":"Ronny Castillo ACRM",\r\n"Ana Virginia Calzada CDS":"Ana Virginia Calzada CDS",\r\n"Douglas Caamaño CR1":"Douglas Caamaño CR1",\r\n"Walter Rubén Hernández PJSC":"Walter Rubén Hernández PJSC",\r\n"Boris Molina UCD":"Boris Molina UCD",\r\n"Marco Rodríguez Padilla PEL":"Marco Rodríguez Padilla PEL",\r\n"David Hernández PT":"David Hernández PT",\r\n"Nulo":"Nulo",\r\n"En Blanco":"En Blanco",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Solo usar en caso de rechazar contestar)":"No Responde"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'congress': {'id': 57, 'type': 'String', 'name': 'congress', 'maxlength': None, 'connected_table': None, 'label': '12.\t¿De la siguiente papeleta por quién votaría usted en las próximas elecciones para diputados? Pre', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Partido Anticorrupción Costarricense":"Partido Anticorrupción Costarricense",\r\n"Justicia Social Costarricense":"Justicia Social Costarricense",\r\n"Social Democrático":"Social Democrático",\r\n"Unión Costarricense Democrática":"Unión Costarricense Democrática",\r\n"Unidos Podemos":"Unidos Podemos",\r\n"Nueva Generación":"Nueva Generación",\r\n"Esperanza y Libertad":"Esperanza y Libertad",\r\n"Compatriotas":"Compatriotas",\r\n"Actuemos Ya":"Actuemos Ya",\r\n"Partido de la Clase Trabajadora":"Partido de la Clase Trabajadora",\r\n"Centro Democrático y Social":"Centro Democrático y Social",\r\n"Coalición Agenda Ciudadana":"Coalición Agenda Ciudadana",\r\n"Nueva República":"Nueva República",\r\n"Aquí CR Manda":"Aquí CR Manda",\r\n"Liberal Progresista":"Liberal Progresista",\r\n"Pueblo Soberano":"Pueblo Soberano",\r\n"Avanza":"Avanza",\r\n"Esperanza Nacional":"Esperanza Nacional",\r\n"Unión Guanacasteca":"Unión Guanacasteca",\r\n"PLN":"PLN",\r\n"Comunal Unido":"Comunal Unido",\r\n"Alianza Costa Rica Primero":"Alianza Costa Rica Primero",\r\n"Partido Integración Nacional":"Partido Integración Nacional",\r\n"Frente Amplio":"Frente Amplio",\r\n"PUSC":"PUSC",\r\n"Otro":"Otro",\r\n"Nulo":"Nulo",\r\n"En Blanco":"En Blanco",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Solo usar en caso de rechazar contestar)":"No Responde"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'contact': {'id': 58, 'type': 'String', 'name': 'contact', 'maxlength': None, 'connected_table': None, 'label': 'Contacto', 'input': 'text', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': None, 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'willvote': {'id': 59, 'type': 'String', 'name': 'willvote', 'maxlength': None, 'connected_table': None, 'label': '9.\t¿Votará en las próximas elecciones nacionales 2026?', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{"Sí":"Sí","No":"No"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'chavesSupport': {'id': 60, 'type': 'String', 'name': 'chavesSupport', 'maxlength': None, 'connected_table': None, 'label': '8.\t¿Apoya usted la gestión de Rodrigo Chaves?', 'input': 'select', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Sí":"Sí",\r\n"No":"No",\r\n"No Sabe":"No Sabe",\r\n"No responde (Rechaza contestar)":"No responde"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'neverVote': {'id': 61, 'type': 'String', 'name': 'neverVote', 'maxlength': None, 'connected_table': None, 'label': '11.¿De la siguiente papeleta por quién NUNCA votaría en las próximas elecciones para presidente?', 'input': 'select', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Laura Fernández PPS":"Laura Fernández PPS",\r\n"Fabricio Alvarado NR":"Fabricio Alvarado NR",\r\n"Fernando Zamora PNG":"Fernando Zamora PNG",\r\n"Álvaro Ramos PLN":"Álvaro Ramos PLN",\r\n"Natalia Díaz UP":"Natalia Díaz UP",\r\n"Eliécer Feinzaig PLP":"Eliécer Feinzaig PLP",\r\n"Ariel Robles Frente Amplio":"Ariel Robles Frente Amplio",\r\n"Claudia Dobles Coalición Agenda Ciudadana":"Claudia Dobles Coalición Agenda Ciudadana",\r\n"Claudio Alpízar Esperanza Nacional":"Claudio Alpízar Esperanza Nacional",\r\n"Luz Mary Alpízar PSD":"Luz Mary Alpízar PSD",\r\n"José Aguilar Berrocal Avance":"José Aguilar Berrocal Avance",\r\n"Juan Carlos Hidalgo PUSC":"Juan Carlos Hidalgo PUSC",\r\n"Luis Amador PIN":"Luis Amador PIN",\r\n"Ronny Castillo ACRM":"Ronny Castillo ACRM",\r\n"Ana Virginia Calzada CDS":"Ana Virginia Calzada CDS",\r\n"Douglas Caamaño CR1":"Douglas Caamaño CR1",\r\n"Walter Rubén Hernández PJSC":"Walter Rubén Hernández PJSC",\r\n"Boris Molina UCD":"Boris Molina UCD",\r\n"Marco Rodríguez Padilla PEL":"Marco Rodríguez Padilla PEL",\r\n"David Hernández PT":"David Hernández PT",\r\n"Nulo":"Nulo",\r\n"En Blanco":"En Blanco",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Solo usar en caso de rechazar contestar)":"No Responde"}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'voteScale': {'id': 62, 'type': 'String', 'name': 'voteScale', 'maxlength': None, 'connected_table': None, 'label': '10. En una escala del 1 al 5, donde 1 es nada seguro y 5 muy seguro ¿qué tan seguro está de votar?', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"1":"1",\r\n"2":"2",\r\n"3":"3",\r\n"4":"4",\r\n"5":"5",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Rechaza contestar)":"No Responde"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'presidentScale': {'id': 125, 'type': 'String', 'name': 'presidentScale', 'maxlength': None, 'connected_table': None, 'label': 'De 1 a 5, donde 1 es nada seguro y 5 es muy seguro¿Qué tan seguro está de su selección a presidente?', 'input': 'select', 'sort': None, 'required': True, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"1":"1",\r\n"2":"2",\r\n"3":"3",\r\n"4":"4",\r\n"5":"5",\r\n"No Sabe":"No Sabe",\r\n"No Responde (Rechaza contestar)":"No Responde"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}, 'brokeVote': {'id': 252, 'type': 'String', 'name': 'brokeVote', 'maxlength': None, 'connected_table': None, 'label': '¿Votará por el mismo partido para diputados?', 'input': 'select', 'sort': None, 'required': False, 'hidden': False, 'publicBlob': False, 'default_value': None, 'select_options': '{\r\n"Sí":"Sí",\r\n"No":"No",\r\n"NS/NR":"NS/NR"\r\n}', 'extraclass': None, 'hasManyValues': False, 'readOnly': False, 'calculate_file': None, 'calculate_function': None, 'helper': None}}
    return fields


def get_relevants():
    relevants = {}
    return relevants
